#**********************************************************************#
#                                                                      #
#                        FoCaLize compiler                             #
#                                                                      #
#            François Pessaux                                          #
#            Pierre Weis                                               #
#            Damien Doligez                                            #
#                                                                      #
#                               LIP6  --  INRIA Rocquencourt           #
#                                                                      #
#  Copyright 2008 INRIA                                                #
#  Distributed only by permission.                                     #
#                                                                      #
#**********************************************************************#

#  $Id: INSTALL,v 1.7 2009-01-27 12:33:35 weis Exp $

Compile and install with:
  ./configure
  make
  make install

You may alternatively use:

./configure ~/pkg

or more precisely:

./configure -tools_prefix ~/pkg

To fix the tools and project installation directories, use:

./configure -tools_prefix <directory> -prefix <directory>

For more information, type:

./configure -help | more

or see below to understand the configuation process.

Licence: New BSD Licence (see the file LICENSE for details)
=======

Contacts:
========
- Web site: http://focalize.inria.fr/
- Discussion: focalize-users@inria.fr
- Bug reports for installation: Pierre.Weis@inria.fr
- Bug reports for the compiler: http://focalize.inria.fr/
  (Find and click on the ``Bug Tracking'' link)
- Contact developers: focalize-devel@inria.fr

Installation in brief:
======================

The FoCaLize installation is a two steps process, it needs two places where
to permanently install files:

(1) a directory writable during the configuration phase,

(2) a directory writable during the installation phase.

Directory (1) is typically ~/pkg (hence writable for you).
Directory (2) is typically /usr/local (hence, writable for root only).

Directory (1) is the argument of the -tools_prefix option of configure.
Directory (2) is the argument of the -prefix option of configure.

In directory (1), the configuration phase builds and installs three external
systems: Objective Caml, CamlP5 and the Coq system. Internal tools, zenon and
zvtov, will also install there.

In directory (2) the installation phase installs the focalizec compiler, its
library and documentation.

All the tools in directory (1) and (2) are mandatory to use the FocaLize system.

Details on installation:
========================

The software will compile and install in three tasks in turn:
 (1) Installation of mandatory external tools: Ocaml, Camlp5, Coq.
 (2) Installation of mandatory internal tools: zenon, zvtov.
     Compilation of the compiler focalizec and its libraries.
 (3) Installation of the compiler: focalizec.

The command "./configure ~/pkg" performs task (1).
The command "make" performs task (2).
The command "make install" performs task (3): it installs the compiler, its
libraries, and the documentation.

External and internal tools are installed in the file system in a directory
private to the actual version of the focalizec compiler. Default directory is
<directory>/focalize-0.1.rc0/, where <directory> is fixed when calling
"./configure <directory>". For instance, if you want to install tools in
sub-directory pkg of your home directory, configure using:

./configure ~/pkg

After installation:
===================
For checking the proofs with coqc, you need to add this to your $HOME/.coqrc file:
  Add LoadPath $TOOLS_INSTALL_DIR/lib.
  Add LoadPath $TOOLS_INSTALL_DIR/lib/zenon.

The default $TOOLS_INSTALL_DIR is "~/pkg/focalize.0.1.rc0"; If you specified
an alternate --tools_installation_prefix when configuring FoCaLize, you need
to adjust these paths accordingly.

Optional prerequisites:
=======================
 - ImageMagick (optional)
 - Ghostscript (optional)
