#**********************************************************************#
#                                                                      #
#                        FoCaLize compiler                             #
#                                                                      #
#            François Pessaux                                          #
#            Pierre Weis                                               #
#            Damien Doligez                                            #
#                                                                      #
#                               LIP6  --  INRIA Rocquencourt           #
#                                                                      #
#  Copyright 2008 LIP6 and INRIA                                       #
#  Distributed only by permission.                                     #
#                                                                      #
#**********************************************************************#

# $Id: Makefile.config,v 1.4 2008-12-01 20:37:34 weis Exp $

# General commands
CD = cd
LN = ln -sf
CP = cp
MKDIR = mkdir -p

# Software configuration variables.
include $(ROOT_DIR)/.config_var

# The list of tar balls for external tools that are MANDATORY for focalize to
# work properly.

# The first step of the installation process is to untar, compile and install
# all those tools.
TAR_BALLS_DIR = $(ROOT_DIR)/tarballs

CAML_DIR=ocaml-3.10.2
CAMLP5_DIR=camlp5-5.09
COQ_DIR=coq-8.1pl4

EXTERNAL_TOOLS_TAR_BALLS = $(CAML_DIR).tar.gz $(CAMLP5_DIR).tgz $(COQ_DIR).tar.gz
EXTERNAL_TOOLS_DIRS = $(CAML_DIR) $(CAMLP5_DIR) $(COQ_DIR)

CAML_CONFIGURE_OPTIONS=-prefix $(PREFIX)
CAML_MAKE_ALL_TARGET=world.opt

CAMLP5_CONFIGURE_OPTIONS=-transitional -prefix $(PREFIX)
CAMLP5_MAKE_ALL_TARGET=world.opt

COQ_CONFIGURE_OPTIONS=-prefix $(PREFIX) -camldir $(ABSOLUTE_ROOT_DIR)/$(CAML_DIR) -camlp5dir $(ABSOLUTE_ROOT_DIR)/$(CAMLP5_DIR)
COQ_MAKE_ALL_TARGET=world.opt
