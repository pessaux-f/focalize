\index{compiler option}
\label{compiler-options}
When invoking the {\focal} compiler with the {\focalizec} command,
various command line options can be provided. The compiler can process
several files in their order of apparition in the command line.
Several types of files are handled. By default, if no option is
specified, the default behaviour is of the compiler is:
\begin{itemize}
  \item ``.ml'' and ``.mli'' files are compiled with the {\ocaml}
    compiler producing bytecode. It is possible to customise the
    compiler code generation using the {\tt -ocaml-comp-mode} option.
    The version of {\ocaml} used is automatically selected from the
    configuration options selected during {\focal}'s
    installation. The {\focal} standard library path is implicitly
    passed to {\ocaml}.
    \item ``.v'' files are compiled with the {\coq} compiler. The
      version of {\coq} used is automatically selected from the
      configuration options selected during {\focal}'s installation.
      The {\focal} standard library path is implicitly passed to
      {\coq}.
    \item ``.zv'' files are compiled by {\zenon} via {\zvtov}. The
      generated ``.v'' file is then compiled by {\coq} as describe
      above.
    \item ``.fcl'' files are compiled by {\focalizec}, generating both
      the ``.ml'' {\ocaml} source and the ``.zv'' pre-{\coq} source. The
      ``.ml'' file is then sent to {\ocaml} and the ``.zv'' file is sent
      to {\zenon} to finally get a ``.v'' file that is sent to {\coq}.
\end{itemize}
It is possible to control the kind of files generated by
{\focalizec} (no {\coq}, no {\ocaml}, ``.zv'', ``.v'' using options
described bellow.

\begin{itemize}
  \item[*] {\bf $-$coq\_older}.
    Enables \coq\ code compatibility for version $<$ to 8.3pl2. This
    mostly prevents inserting {\tt Global Unset Automatic
      Introduction} in the generated code, which is now required since
    recent versions of \coq\ now automatically introduce hypotheses
    that where not before.
  \item[*] {\bf $-$dot-non-rec-dependencies} {\em directory name}.
    Dumps non-let-rec dependencies of the species present in the
    compiled source file. The output format is suitable to be
    graphically displayed by \dotty\ (free software available via the
    \graphviz\ package). Each species will lead to a \dotty\ file into
    the argument directory. Files are names by ``deps\_'' + the source
    file base name (i.e. without path and suffix) + the species name +
    the suffix ``.dot''.

  \item[*] {\bf $-$focalize-doc} Generates documentation. The
    result file gets located in the same directory than the compiled
    file, replacing the suffix ``.fcl'' by ``.fcd''. This file contains
    XML in plain ASCII text and need to be processed before being read.
    Consult section \ref{documentation-generation} for more details.

  \item[*] {\bf $--$experimental} Reserved for development purpose.
    Never use. Invoking the compiler with this option may trigger
    unpredictable results.

  \item[*] {\bf $-$i}. Prints the interfaces of the species present in
    the compiled source file. Result is sent to the standard output.

  \item[*] {\bf $-$I} {\em directory name}. Adds the specified
    directory to the path list where to search for
    compilation units. Several $-$I options can be used. The search order is
    in the local directory, then in the standard library directory (unless the
    $-$no-stdlib-path option is used, see below), then in the
    directories specified by the $-$I options in their apparition
    order on the command line.

  \item[*] {\bf $-$impose-termination-proof}. Make termination proofs
    mandatory for recursive functions. If a recursive function doesn't
    have its termination proof, then the field will be considered as
    not fully defined and no collection will be built on the
    species hosting the function. By default this option is not
    enabled and if a recursive function does not have any termination
    proof, a warning is printed during compilation when trying to make
    a collection from this species.

 \item[*] {\bf $-$methods-history-to-text} {\em directory
   name}. Dumps the methods' inheritance history of the species
   present in the compilation unit. The result is sent as plain text files
   into the argument directory. For each method of each species a file
   is generated wearing the name made of ``history\_'' + the source
   file base name (i.e. without path and suffix) + ``\_'' + the
   hosting species name + the suffix ``.txt''.

  \item[*] {\bf $-$no-ansi-escape}. Disables ANSI escape sequences in
    the error messages. By default, when an error is reported, bold,
    italic, underline fonts are used to make easier reading the
    message. Using this option removes all these text attributes and
    may be used if your terminal doesn't support ANSI escape sequences
    or, for example, if compiling under \emacs.

  \item[*] {\bf $-$no-coq-code}. Disables the {\coq} code
    generation. By default {\coq} code is always generated.

  \item[*] {\bf $--$no-ocaml-code}. Disables the {\ocaml} code
    generation. By default {\ocaml} code is always generated.

   \item[*] {\bf $-$no-stdlib-path}. Does not include the standard
    library installation directory in the libraries search path. This
    option is rarely useful and mostly dedicated to the
    {\focal} compiler build process.

   \item[*] {\bf $-$ocaml-comp-mode} {\em file name}. Specifies the
     {\ocaml} compiler code generation mode. This option is folowed by
     a string that can be "byt" for bytecode compilation, "bin" for
     native code compilation, or "both" for bytecode and native code
     compilation. This option has no effect if {\bf $--$no-ocaml-code}
     is used.

  \item[*] {\bf $-$pretty} {\em file name}. (Undocumented: mostly for
    debug purpose). Pretty-prints the parse tree of the {\focal} file
    as a {\focal} source into the argument file.

  \item[*] {\bf $-$pmatch-err-as-warn}. Toggles pattern-matching issues
    (uncomplete matching and useless pattern) as warnings instead of
    errors (default behaviour) that would abort compilation.

  \item[*] {\bf $-$raw-ast-dump}. (Undocumented: mostly for debug
    purpose). Prints on stderr the raw AST structure after parsing
    stage.

  \item[*] {\bf $-$scoped\_pretty} {\em file name}. (Undocumented:
    mostly for debug purpose). Pretty-prints the parse tree of the
    {\focal} file once scoped as a {\focal} source into the argument
    file.

  \item[*] {\bf $-$stop-before-coq} When {\coq} code generation is
    activated, stops the compilation process before passing the
    generated file to {\coq}. The generated pre-{\coq} source is sent to
    {\zenon} then the compilation process stops. The produced file is
    hence ended by the suffix ``.v''. This option has no effect if
    {\bf $-$no-coq-code} or {\bf $-$stop-before-zenon} is used.

   \item[*] {\bf $-$stop-before-zenon}. When {\coq} code generation is
     activated, stops the compilation process before passing the
     generated file to {\zenon}. The produced file is then a pre-{\coq}
     source file, ended by the suffix ``.zv''. This option has no
     effect if {\bf $-$no-coq-code} is used.

  \item[*] {\bf $-$verbose}. Sets the compiler in verbose mode. It
    will then generate the trace of the steps and operations is does
    during the compilation. This feature is mostly used for debugging
    purpose but can also explain the elaboration of the model during
    compilation for people interested in {\focal}'s compilation
    process.

  \item[*] {\bf $-$v}. Prints the {\focal} version then exits.

  \item[*] {\bf $-$version}. Prints the full {\focal} version,
    sub-version and release date, then exits.

  \item[*] {\bf $-$where}. Prints the binaries and libraries
    installation directories then exits.

  \item[*] {\bf $-$zvtovopt} {\em "options"}. Set options to pass to {\zvtov}.
    {\zvtov} is anyway always called with options
    {\em "-zenon (path to Zenon) -new"} in head. It is possible to use this
    option to pass options to {\zenon} but be careful of correctly quoting
    options to make sure they are interpreted by their respective recipient.

    For instance, telling {\zenon} to change its maximum memory size can be
    done in the 3 equivalent ways:\\
    \verb+focalizec -zvtovopt '-zopt '\''-max-size 2G'\' foo.fcl+\\
    \verb+focalizec -zvtovopt "-zopt \"-max-size 2G\"" foo.fcl+\\
    \verb+focalizec -zvtovopt "-zopt '-max-size 2G'" foo.fcl+

  \item[*] {\bf $-$help} {\bf $--$help}. Prints the summary of command
    line options (i.e. this documentation) on the standard output.
\end{itemize}
