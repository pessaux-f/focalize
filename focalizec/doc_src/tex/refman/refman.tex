% $Id: refman.tex,v 1.43 2009-01-21 19:43:00 weis Exp $

\documentclass[11pt]{report}
\usepackage[english]{babel}
\usepackage{times}
\usepackage[latin1]{inputenc}
\usepackage{fullpage}
\usepackage{color}
\usepackage{listings}
\usepackage{index}
\usepackage{graphicx}

\input{macros}

%% Pour afficher les listings de manière plus sexy... ;)
\lstdefinelanguage{FoCaLize}
  {morekeywords={alias, all, and, as, assume, assumed, begin, by, caml,
      collection, conclude, coq, coq_require, definition, else, end,
      ex, external, false, function, hypothesis, if, in,
      inherits, internal, implements, is, let, lexicographic,
      local, logical, match, measure, not, notation, of, open,
      on, or, order, proof, prop, property, prove, qed, rec,
      representation, Self, signature, species, step,
      structural, termination, then, theorem, true, type, use,
      with},
    sensitive=false,
    morecomment=[n]{(*}{*)},  %% Autoriser les nested comments
    morecomment=[n]{(**}{*)}, %% Autoriser les nested comments
    morestring=[b]",
  }

\lstset{
  language=FoCaLize, tabsize=2, frame=single, breaklines=true,
  basicstyle=\ttfamily, framexleftmargin=1mm, xleftmargin=1mm
}

\makeindex

\begin{document}

\vspace*{3cm}




\begin{center}

{\Huge \textbf{\focal}}

%HEVEA\setcounter{cuttingdepth}{0}
%HEVEA\title{The {\focal} system, release {\focalversion}}

\vspace*{3cm}

{\Huge \textbf{Reference Manual}}


\vspace*{2cm}

{\LARGE \textbf{\focalversion} }

\vspace*{1cm}

{\LARGE \textbf{\focalversiondate}}


\vspace*{3cm}


{\Large \textbf{Authors}}

\mbox{} \vspace*{2cm}

{\large\em
%%%% please add your name as soon as you modify the tex - Th-%%%
Th\'er\`ese Hardin,
Fran\c{c}ois Pessaux,
Pierre Weis,
Damien Doligez
}
\end{center}

\newpage

\begin{center}
{\Huge \textbf{About \focal}}
\end{center}


\bigskip

{\large\em \focal\ is the result of a collective work of several researchers,
listed in the following, who designed, defined, compiled, studied,  extended,
used and debugged the preceding versions. They were helped by many
students who had a summer internship under their supervision. They
would like to thank all these students and more generally all the
persons who brought some contribution to \focal. }


\vspace*{2cm}

\begin{center}
{\Large \textbf{ \focal\  contributors}}
\mbox{} \vspace*{2cm}
\end{center}


{\large Philippe Ayrault (SPI-LIP6), William Bartlett (CPR-CEDRIC), Julien
Blond (SPI-LIP6), Sylvain Boulm\'e (SPI-LIP6), Matthieu Carlier
(CPR-CEDRIC),  Damien Doligez (GALLIUM-INRIA), David Delahaye
(CPR-CEDRIC), Catherine Dubois (CPR-CEDRIC), Jean-Fr\'ed\'eric Etienne
(CPR-CEDRIC), St\'ephane Fechter (SPI-LIP6), Mathieu Jaume (SPI-LIP6),
Lionel Habib (SPI-LIP6), Th\'er\`ese Hardin (SPI-LIP6), Charles
Morisset (SPI-LIP6), Ivan Noyer (SPI-LIP6), Fran\c{c}ois Pessaux
(SPI-LIP6), Virgile Prevosto (SPI-LIP6), Renaud Rioboo (CPR-CEDRC),
Lien Tran (SPI-LIP6), V\'eronique Vigui\'e Donzeau-Gouge (CPR-CNAM),
Pierre Weis (ESTIME-INRIA)}

\bigskip

\begin{center}
{\large \textbf{and their institutions}}
\mbox{} \vspace*{2cm}
\end{center}

{\em SPI (Semantics, Proofs and Implementations) is a team of LIP6,
(Laboratoire d'Infor\-matique de Paris 6) of UPMC (Pierre and Marie Curie
University)\footnote{UPMC-LIP6,
104 avenue du Pr\'esident Kennedy, Paris 75016, France,
\email{Firstname.Lastname@lip6.fr}}.}

\bigskip


{\em CPR (Conception et Programmation Raisonn\'ees) is a team of CEDRIC
(Centre d'Etudes et de Recherches du CNAM) of CNAM (Conservatoire National
des Arts et M\'etiers)\footnote{CNAM-CEDRIC,
292 rue Saint Martin, 75003, Paris, France,
\email{Firstname.Lastname@cnam.fr}} and ENSIIE (Ecole Nationale d'Informatique pour
l'Industrie et l'Entreprise)\footnote{ENSIIE-CEDRIC,
1 Square de la R\'esistance, 91025 Evry Cedex, France,
\email{Lastname@ensiie.fr}}. }

\bigskip
{\em
ESTIME and GALLIUM are teams of INRIA Rocquencourt\footnote{INRIA,
  Bat 8. Domaine de Voluceau, Rocquencourt, BP 105, F-78153 Le
  Chesnay, France, \email{Firstname.Lastname@inria.fr}}
}


\bigskip

\bigskip


\begin{center}
{\Large \textbf{Thanks}}
\mbox{} \vspace*{2cm}
\end{center}

The {\focal} project was first partially supported by LIP6 (Projet Foc, LIP6
1997) then by the Ministry of Research (Action Modulogic) and is
currently partially supported by the French SSURF ANR project
ANR-06-SETI-016 (Safety and Security UndeR Focal). This project also
benefited of strong collaborations with EDEMOI ANR project and with
BERTIN and SAFERIVER companies.

The {\focal} language and compiler development effort started again from
scratch in 2006 to achieve the current focalizec compiler distribution.

This manual documents this completely revised system with the new syntax and
sematics extensions.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setcounter{tocdepth}{5}
\setcounter{secnumdepth}{5}
\tableofcontents


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage

\section*{Introduction}

%%%% Intro to give a short description of motivations and milestones
%%%% in the development.
\input{motivations.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Overview}
%%%% a smooth introduction to focal main concepts before entering the
%%%% true reference manual.

\input{glimpse.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Installing and Compiling}
\input{pres_requir.tex}
\input{output.tex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{The core language}
\label{corelangage}
\input{lexical_conventions.tex}
\input{constructs_syntax.tex}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{The \focal\ model}

\input{basic_concepts.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{building_species.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{more_on_meths.tex}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Making proofs in \focal\ Proof Language}
\label{making-proofs}
%\input{proofs.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Recursive function definitions}
\label{recursive-function}
\index{function!recursive}

\index{recursion}
In the current alpha-release, recursive functions are not quite handled
in \coq\ code generation. We are still working on them and should be soon
available with material to provide termination proofs.
%\input{.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Compiler options}
\input{compiler_opts.tex}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Documentation generation}
\input{doc_gen.tex}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Hacking deeper}
\subsection{Interfacing \focal\ with other languages}
\label{interfacing-other-languages}

\subsection{Dealing with manual \coq\ proofs}
\label{coq-proofs}
\label{focal-coq-mapping}
% mapping des noms
% modèle du code généré en coq et en caml ??


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Compiler error messages}
\label{compiler-error-mesgs}
\input{compiler_err_msgs}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\bibliographystyle{abbrv}
\bibliography{bibli}
%%%%%%%%%%%%%%%%%%%%%%%%%%
\printindex
\end{document}
