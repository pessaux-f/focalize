\newenvironment{citemize}{\begin{list}{$\bullet$}{\itemsep 0pt \topsep 5pt}}{\end{list}}

\def\bbbn{{\rm I\!N}}

\def\url#1{{#1}}
\def\email#1{{\tt#1}}
\def\ocaml{{\sf OCaml}}
\def\moca{{\sf Moca}}
\def\focal{{\sf FoCaLize}}
\def\focalversion{{\sf 1.0.0}}
\def\focalversiondate{{\sf January 2009}}
\def\coq{{\sf Coq}}
\def\cime{{\sf CiME}}
\def\zenon{{\sf Zenon}}
\def\focdoc{{\sf FoCaLizeDoc}}
\def\dotty{{\sf dotty}}
\def\graphviz{{\sf graphviz}}
\def\emacs{{\sf emacs}}
\def\cygwin{{\sf Cygwin}}
\def\xsltproc{{\sf xsltproc}}
\def\terminal#1{{\bf {\color{red}#1}}}
\def\foc{{\sf Foc}}
\def\oldfocal{{\sf Focal}}
\def\focalize{{\sf FoCaLize}}

%% Pour afficher les listings de manière plus sexy... ;)
\lstdefinelanguage{FoCaLize}
  {morekeywords={alias, all, and, as, assume, assumed, begin, by, caml,
      collection, conclude, coq, coq_require, definition, else, end,
      ex, external, false, function, hypothesis, if, in,
      inherits, internal, implements, is, let, lexicographic,
      local, logical, match, measure, not, notation, of, open,
      on, or, order, proof, prop, property, prove, qed, rec,
      representation, Self, signature, species, step,
      structural, termination, then, theorem, true, type, use,
      with},
    sensitive=false,
    morecomment=[n]{(*}{*)},  %% Autoriser les nested comments
    morecomment=[n]{(**}{*)}, %% Autoriser les nested comments
    morestring=[b]",
  }

\lstset{
  language=FoCaLize, tabsize=2, frame=single, breaklines=true,
  basicstyle=\ttfamily, framexleftmargin=1mm, xleftmargin=1mm
}

% For syntax definitions
% \begin{syntax}
% left-hand side & ::=  & right-hand side & comment \\
%                & \alt & more right-hand side & more comment
% \end{syntax}
% Use \syntaxclass{Foo} to insert a title line above a syntax definition.
% Do not put \\ before \end{syntax} or \syntaxclass{...}
% Use \begin{syntaxleft} ... \end{syntaxleft} to insert the title
% lines to the left of the definitions.

\def\syntax{
\par\medskip\goodbreak\noindent
\bgroup
\let\\=\cr
\interlinepenalty=50            % discourage page breaks in a definition
\global\let\syntaxclass=\firstsyntaxclass
\if@twocolumn
\halign\bgroup~~$##$&\hfil${}##{}$&$##$~\hfil&##\hfil\cr
\else
\halign\bgroup\qquad\qquad$##$&\hfil${}##{}$&$##$\quad\hfil&##\hfil\cr
\fi
}
\def\endsyntax{\cr\egroup\egroup\par\medskip\noindent\ignorespaces}

\def\firstsyntaxclass#1{
\omit\hbox to 0pt{#1\hss}\cr
\global\let\syntaxclass=\nextsyntaxclass
}

\def\nextsyntaxclass#1{
\cr\noalign{\smallskip\penalty-100}\omit\hbox to 0pt{#1\hss}\cr
}

\def\syntaxleft{
\par\medskip\goodbreak\noindent
\bgroup
\let\\=\cr
\interlinepenalty=50            % discourage page breaks in a definition
\global\let\syntaxclass=\firstsyntaxclassleft
\if@twocolumn
\halign\bgroup\hfil$##$&\hfil${}##{}$&$##$~\hfil&##\hfil\cr
\else
\halign\bgroup\hfil$##$&\hfil${}##{}$&$##$\quad\hfil&##\hfil\cr
\fi
}
\let\endsyntaxleft=\endsyntax

\def\firstsyntaxclassleft#1{
$\hfilneg#1\quad\hfil$
\global\let\syntaxclass=\nextsyntaxclassleft
}

\def\nextsyntaxclassleft#1{
\cr\noalign{\smallskip\goodbreak}$\hfilneg#1\quad\hfil$
}
