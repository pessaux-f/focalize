#**********************************************************************#
#                                                                      #
#                        FoCaLize compiler                             #
#                                                                      #
#            François Pessaux                                          #
#            Pierre Weis                                               #
#            Damien Doligez                                            #
#                               LIP6  --  INRIA Rocquencourt           #
#                                                                      #
#  Copyright 2008 LIP6 and INRIA                                       #
#  Distributed only by permission.                                     #
#                                                                      #
#**********************************************************************#

# $Id: Makefile,v 1.22 2012-02-21 17:35:37 pessaux Exp $

ROOT_DIR=../..

include $(ROOT_DIR)/Makefile.config

BYT_OBJS=\
 build_stamp.cmo installation.cmo configuration.cmo handy.cmo\
 location.cmo types.cmo\
 files.cmo anti_keyword_conflict.cmo parsetree_utils.cmo miscHelpers.cmo

include $(ROOT_DIR)/Makefile.common

depend-local:
	$(CAML_DEP) $(BYT_OBJS:.cmo=.mli) $(BYT_OBJS:.cmo=.ml) > .depend

installation.ml:
	@if test ! -L $@ ; then\
	   echo "Please, run configure first.";\
	fi

build_stamp.ml: .FORCE

.PHONY: .FORCE

.FORCE:
	echo "(* Do not modify manually. This file is automatically generated" > build_stamp.ml
	echo "   and not stored in the repository. *)" >> build_stamp.ml
	echo "let build_stamp = \"" `date` "\" ;;" >> build_stamp.ml
