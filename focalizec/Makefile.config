#**********************************************************************#
#                                                                      #
#                        FoCaL compiler                                #
#            François Pessaux                                          #
#            Pierre Weis                                               #
#            Damien Doligez                                            #
#                               LIP6  --  INRIA Rocquencourt           #
#                                                                      #
#  Copyright 2008 LIP6 and INRIA                                       #
#  Distributed only by permission.                                     #
#                                                                      #
#**********************************************************************#

# $Id: Makefile.config,v 1.10 2008-10-14 07:00:37 weis Exp $

# Basic Unix commands
MAKE = make
RM = rm -rf
CD = cd
LN = ln -sf

# The compilers

# Caml compiler commands
CAML_BYT_COMPILER = ocamlc
CAML_BIN_COMPILER = ocamlopt

# Caml compilers flags
CAML_COMP_FLAGS = -w A -warn-error Ae
CAML_BYT_COMP_FLAGS = $(CAML_COMP_FLAGS) -g
CAML_BIN_COMP_FLAGS = $(CAML_COMP_FLAGS)

# Caml libraries include for compilation, linking, and dependancy computation.
CAML_INCLUDES =

# The Caml byte and bin compiler definitions.
CAMLBYT = $(CAML_BYT_COMPILER) $(CAML_INCLUDES) -g $(CAML_BYT_COMP_FLAGS)
CAMLBIN = $(CAML_BIN_COMPILER) $(CAML_INCLUDES) $(CAML_BIN_COMP_FLAGS)

# Other Caml related commands
CAMLDOC = ocamldoc
CAMLYACC = ocamlyacc -v
CAMLLEX = ocamllex
CAMLDEP = ocamldep $(CAML_INCLUDES)

# The focalize compiler command
LINK_TO_FOCALIZE_COMPILER = $(ROOT_DIR)/toplevel/focalizec
# The byt compiled focalize compiler
BYT_FOCALIZE_COMPILER = $(LINK_TO_FOCALIZE_COMPILER).byt
# The binary compiled focalize compiler
BIN_FOCALIZE_COMPILER = $(BYT_FOCALIZE_COMPILER:.byt=.bin)
# The regular focalize compiler command
FOCALIZE_COMPILER = $(LINK_TO_FOCALIZE_COMPILER)

# The focalize compiler flags
FOCALIZE_COMP_FLAGS =

# The focalize compiler definition
FOCALIZEC = $(FOCALIZE_COMPILER) $(FOCALIZE_COMP_FLAGS)

# The Coq compiler command
COQ_COMPILER = coqc

# The Coq compiler flags
COQ_COMP_FLAGS =

# The Coq libraries includes for compilation.
COQ_INCLUDES = -I $(ROOT_DIR)/../zenon/

# The Coq compiler definition
COQC = $(COQ_COMPILER) $(COQ_INCLUDES) $(COQ_COMP_FLAGS)

# The Zenon compiler command
ZENON = $(ROOT_DIR)/../zenon/zenon
# The Zenon compiler flags
ZENON_COMP_FLAGS = -new -max-time 1h

# The Zvtov compiler
ZVTOV_COMPILER = $(ROOT_DIR)/../zvtov/zvtov

# The Zvtov compiler flags
ZVTOV_COMP_FLAGS = -zopt "$(ZENON_COMP_FLAGS)" -zenon $(ZENON)

# The Zvtov compiler definition
ZVTOV = $(ZVTOV_COMPILER) $(ZVTOV_COMP_FLAGS)
